# Azure Pipelines configuration for Storage Account Workload

name: $(Build.DefinitionName)_$(Date:yyyyMMdd)$(Rev:.r)

resources:
  repositories:
    - repository: release-engine # REPOSITORY ALIAS ###  MUST NOT  ### BE CHANGED
      type: github
      name: thecloudexplorers/release-engine # RELEASE ENGINE REPOSITORY ###  MUST NOT  ### BE CHANGED
      endpoint: thecloudexplorers
      ref: refs/tags/v1.1.0
    - repository: workload # REPOSITORY ALIAS ###  MUST NOT  ### BE CHANGED
      type: github
      name: thecloudexplorers/release-engine-example-workload-pattern
      endpoint: thecloudexplorers
      ref: refs/heads/users/wcamargo/new-workload

trigger:
  - users/*

pool: MSHosted-WorkloadsPool

extends:
  template: /patterns/storage_account/workload.yml@workload

  parameters:
    platformWorkloadSettings:
      configurationFilePath: /_config
      iacParameterFileName: workloadTemplate.module.parameters.json
      environments:
        - production
        - development
